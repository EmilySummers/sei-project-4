{"version":3,"sources":["components/common/Home.js","lib/auth.js","components/common/Navbar.js","components/ImageUpload.js","components/auth/Register.js","components/auth/Login.js","components/auth/ProfileEdit.js","components/auth/Profile.js","components/auth/MyNotifications.js","components/trips/TripMap.js","components/trips/TripWeather.js","components/trips/MyTripShow.js","components/trips/MyTripIndex.js","components/trips/TripNew.js","components/trips/OpenTripIndex.js","components/trips/OpenTripShow.js","App.js","serviceWorker.js","index.js"],"names":["Home","className","Auth","token","localStorage","setItem","getItem","removeItem","this","getToken","parts","split","length","JSON","parse","atob","payload","getPayload","Math","round","Date","now","exp","sub","Navbar","state","navOpen","toggleNavbar","setState","handleLogout","logout","props","history","push","prevProps","location","pathname","to","onClick","aria-hidden","isAuthenticated","href","React","Component","withRouter","ImageUpload","image","handleUpload","a","files","target","data","FormData","preset","append","axios","post","res","url","handleChange","name","fieldName","value","labelClassName","displayImgUp","src","alt","inputClassName","type","onChange","Register","username","email","password","password_confirmation","errors","e","handleSubmit","preventDefault","notify","show","message","response","onSubmit","placeholder","Login","error","setToken","ProfileEdit","id","trips","userId","put","headers","Authorization","get","console","log","Profile","user","handleDelete","delete","getData","MyNotifications","tripData","trip_shares","trip_offers","offerData","trip_requests","getTripData","getUser","filteredIds","map","trip","joinTrip","tripId","filter","trip_share","assignTrip","getRequestData","requestee","filteredTripIds","filteredRequestIds","trip_request","removedCurrentRequest","tripRequestId","acceptOffer","deleteOffer","removedCurrentOffer","trip_offer","tripOfferId","completeDelete","ownerId","date","day","getDate","monthIndex","getMonth","year","getFullYear","i","key","destination","formatDate","start_date","process","TripMap","viewport","longitude","latitude","zoom","myMap","createRef","features","center","ref","height","width","mapStyle","onViewportChange","mapboxApiAccessToken","mapRef","TripWeather","main","description","icon","temp","calculateTemp","weather","MyTripShow","photos","attractions","link","to_dos","to_do","open_trip","shareData","shareUser","dateEdit","editData","handleToDo","createToDo","match","params","handleDeleteToDo","task","handleAttraction","createAttraction","handleDeleteAttraction","attraction","handlePhoto","createPhoto","handleDeletePhoto","photo","toggleStatus","editTrip","handleChangeShare","shareTrip","shareWith","getUserShares","addTripShare","parseInt","completeShare","toggleEdit","handleChangeEdit","editDates","end_date","MyTripIndex","upcoming_trips","past_trips","today","ownedTrips","owner","attendingTrips","attendees","attendee","TripNew","OpenTripIndex","openTrips","singleTrip","OpenTripShow","currentUser","requestData","generateRequest","sendRequest","getOwnerOffers","generateOffer","sendOffer","getUserRequests","App","exact","path","component","Boolean","window","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.2df694cd.chunk.js","sourcesContent":["import React from 'react'\n\nconst Home = () => (\n  <section className=\"hero\">\n    <div className=\"hero-body\">\n    </div>\n  </section>\n)\n\nexport default Home","\nclass Auth {\n  static setToken(token) {\n    localStorage.setItem('token', token)\n  }\n\n  static getToken() {\n    return localStorage.getItem('token')\n  }\n\n  static logout() {\n    localStorage.removeItem('token')\n  }\n\n  static getPayload() {\n    const token = this.getToken() \n    if (!token) return false \n    const parts = token.split('.') \n    if (parts.length < 3) return false \n    return JSON.parse(atob(parts[1]))\n  }\n\n  static isAuthenticated() {\n    const payload = this.getPayload()\n    if (!payload) return false\n    const now = Math.round(Date.now() / 1000)\n    return now < payload.exp\n  }\n\n  static getUser() {\n    const { sub } = this.getPayload()\n    return sub\n  }\n}\n\nexport default Auth","import React from 'react'\nimport { Link, withRouter } from 'react-router-dom'\nimport Auth from '../../lib/auth'\n\nclass Navbar extends React.Component {\n  state = { navOpen: false }\n\n  toggleNavbar = () => {\n    this.setState({ navOpen: !this.state.navOpen })\n  }\n\n  handleLogout = () => {\n    Auth.logout()\n    this.props.history.push('/')\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.location.pathname !== prevProps.location.pathname) {\n      this.setState({ navOpen: false })\n    }\n  }\n\n  render() {\n    return (\n      <nav className=\"navbar is-transparent\">\n        <div className=\"container\">\n          <div className=\"navbar-brand\">\n            <Link className=\"navbar-item has-text-white\" to=\"/\">\n              <h1>Roam</h1>\n            </Link>\n            <p\n              className={`navbar-burger has-text-white ${this.state.navOpen ? 'is-active' : ''}`}\n              onClick={this.toggleNavbar}\n            >\n              <span aria-hidden=\"true\"></span>\n              <span aria-hidden=\"true\"></span>\n              <span aria-hidden=\"true\"></span>\n            </p>\n          </div>\n          <div className={`navbar-menu ${this.state.navOpen ? 'is-active' : ''}`}>\n            <div className=\"navbar-end\">\n              {Auth.isAuthenticated() && <Link className=\"navbar-item has-text-white\" to=\"/mytrips\">MY TRIPS</Link>}\n              {!Auth.isAuthenticated() && <Link className=\"navbar-item has-text-white\" to=\"/register\">REGISTER</Link>}\n              {!Auth.isAuthenticated() && <Link className=\"navbar-item has-text-white\" to=\"/login\">LOGIN</Link>}\n              {Auth.isAuthenticated() && <Link className=\"navbar-item has-text-white\" to=\"/trips\">EXPLORE</Link>}\n              {Auth.isAuthenticated() && <Link className=\"navbar-item has-text-white\" to=\"/notifications\">NOTIFICATIONS</Link>}\n              {Auth.isAuthenticated() && <Link className=\"navbar-item has-text-white\" to=\"/profile\">MY PROFILE</Link>}\n              {Auth.isAuthenticated() && <a href=\"/\" className=\"navbar-item has-text-white\" onClick={this.handleLogout}>LOGOUT</a>}\n            </div>\n          </div>\n        </div>\n      </nav>\n    )\n  }\n}\n\n//! add is-fixed-top to navbar\n\nexport default withRouter(Navbar)","import React from 'react'\nimport axios from 'axios'\n\nclass ImageUpload extends React.Component {\n  state = {\n    image: null\n  }\n\n  handleUpload = async ({ target: { files } }) => {\n    const data = new FormData()\n    const preset = this.props.preset\n    data.append('file', files[0])\n    data.append('upload_preset', `${preset}`)\n    const res = await axios.post('https://api.cloudinary.com/v1_1/dqrkw1z1a/image/upload', data)\n    this.setState({ image: res.data.url }, () => {\n      this.props.handleChange({ target: { name: this.props.fieldName, value: res.data.url } })\n    })\n  }\n\n  render() {\n    const labelClass = this.props.labelClassName ? this.props.labelClassName : 'default_class'\n    const displayImgUp = this.props.displayImgUp\n    const { image } = this.state\n    return (\n      <>\n        {image && displayImgUp ?\n          <div className=\"image-upload\">\n            <img src={image} alt=\"profile\" />\n            <button className=\"pin-button\">✔︎</button>\n          </div>\n          \n          :\n          <>\n            {/* <label className={labelClass}>{this.props.labelText}</label> */}\n            <input\n              className={this.props.inputClassName}\n              type=\"file\"\n              onChange={this.handleUpload}\n            />\n          </>\n        }\n      </>\n    )\n  }\n}\n\nexport default ImageUpload","import React from 'react'\nimport ImageUpload from '../ImageUpload'\nimport axios from 'axios'\nimport { notify } from 'react-notify-toast'\n\nclass Register extends React.Component {\n  state = {\n    data: {\n      username: '',\n      email: '',\n      image: '',\n      password: '',\n      password_confirmation: ''\n    },\n    errors: {}\n  }\n\n  handleChange = e => {\n    const data = { ...this.state.data, [e.target.name]: e.target.value }\n    const errors = { ...this.state.errors, [e.target.name]: '' }\n    this.setState({ data, errors })\n  }\n\n  handleSubmit = async e => {\n    e.preventDefault()\n    try {\n      const res = await axios.post('/api/register', this.state.data)\n      notify.show(res.data.message, 'success', 3000)\n      this.props.history.push('/login')\n    } catch (err) {\n      this.setState({ errors: err.response.data })\n    }\n  }\n\n  render() {\n    return (\n      <section className=\"register-page\">\n        <div className=\"register-hero\">\n          <div className=\"register-wrapper\">\n            <div className=\"register-container columns\">\n              <div className=\"column is-half-desktop\">\n                <img src=\"https://res.cloudinary.com/dqrkw1z1a/image/upload/v1583248319/ROAM/5c88d769f73f5c0a3b1d1804_copy_twtdid.jpg\" alt=\"city-break\" />\n              </div>\n              <div className=\"column is-half-desktop\">\n                <form className=\"register-form\" onSubmit={this.handleSubmit}>\n                  <h1 className=\"reg-title\">Register</h1>\n                  {/* <div className=\"field\">\n            <label className=\"label\">\n              <div className=\"control\">\n                <input className=\"input\"></input>\n              </div>\n            </label>\n          </div> */}\n                  <div className=\"field\">\n                    <div className=\"control\">\n                      <input\n                        className={this.state.errors.username ? 'input is-danger' : 'input'}\n                        onChange={this.handleChange}\n                        placeholder=\"Username\"\n                        name=\"username\"\n                      />\n                    </div>\n                    {this.state.errors.username && <small className=\"help is-danger\">{this.state.errors.username}</small>}\n                  </div>\n                  <div className=\"field\">\n                    <div className=\"control\">\n                      <input\n                        className={this.state.errors.email ? 'input is-danger' : 'input'}\n                        onChange={this.handleChange}\n                        placeholder=\"Email\"\n                        name=\"email\" />\n                    </div>\n                  </div>\n                  {this.state.errors.email && <small className=\"help is-danger\">{this.state.errors.email}</small>}\n                  <div className=\"field\">\n                    <div className=\"control\">\n                      <input\n                        className={this.state.errors.password ? 'input is-danger' : 'input'}\n                        onChange={this.handleChange}\n                        placeholder=\"Password\"\n                        type=\"password\"\n                        name=\"password\" />\n                    </div>\n                    {this.state.errors.password && <small className=\"help is-danger\">{this.state.errors.password}</small>}\n                  </div>\n                  <div className=\"field\">\n                    <div className=\"control\">\n                      <input\n                        className={this.state.errors.password_confirmation ? 'input is-danger' : 'input'}\n                        onChange={this.handleChange}\n                        placeholder=\"Confirm Password\"\n                        type=\"password\"\n                        name=\"password_confirmation\" />\n                    </div>\n                    {this.state.errors.password_confirmation && <small className=\"help is-danger\">{this.state.errors.password_confirmation}</small>}\n                  </div>\n                  <div className=\"image-container\">\n                    <ImageUpload\n                      handleChange={this.handleChange}\n                      fieldName=\"image\"\n                      displayImgUp={true}\n                      inputClassName=\"register-image\"\n                      preset=\"afar9d6z\"\n                      // labelText=\"Add photo\"\n                    />\n                  </div>\n                  <button className=\"button is-fullwidth\">Start Roaming</button>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section >\n    )\n  }\n}\n\nexport default Register","import React from 'react'\nimport axios from 'axios'\nimport { notify } from 'react-notify-toast'\nimport Auth from '../../lib/auth'\n\nclass Login extends React.Component {\n  state ={\n    data: {\n      email: '',\n      password: ''\n    },\n    error: ''\n  }\n\n  handleChange = e => {\n    e.target.className = 'input'\n    const data = { ...this.state.data, [e.target.name]: e.target.value }\n    const errors = { ...this.state.errors, [e.target.name]: '' }\n    this.setState({ data, errors })\n  }\n\n  handleSubmit = async e => {\n    e.preventDefault()\n    try {\n      const res = await axios.post('/api/login', this.state.data)\n      Auth.setToken(res.data.token)\n      notify.show(res.data.message, 'success', 3000)\n      this.props.history.push('/')\n    } catch (err) {\n      this.setState({ error: 'Invalid Credentials' })\n    }\n  }\n\n  render() {\n    return (\n      <section className=\"login-hero\">\n        <form className=\"login-form\" onSubmit={this.handleSubmit}>\n          <h2 className=\"title has-text-white has-text-centered is-2\">Login</h2>\n          <div className=\"field\">\n            <div className=\"control\">\n              <input\n              className={this.state.error ? 'input is-danger' : 'input'}\n              onChange={this.handleChange}\n              placeholder=\"Email\"\n              name=\"email\" />\n            </div>\n          </div>\n          <div className=\"field\">\n            <div className=\"control\">\n              <input\n              className={this.state.error ? 'input is-danger' : 'input'}\n              onChange={this.handleChange}\n              placeholder=\"Password\"\n              name=\"password\"\n              type=\"password\" />\n            </div>\n            {this.state.error && <small className=\"help is-danger\">{this.state.error}</small>}\n          </div>\n          <button className=\"button\">Login</button>\n        </form>\n      </section>\n    )\n  }\n}\n\nexport default Login","import React from 'react'\nimport ImageUpload from '../ImageUpload'\nimport axios from 'axios'\nimport Auth from '../../lib/auth'\n\nclass ProfileEdit extends React.Component {\n  state = {\n    data: {\n      id: null,\n      username: '',\n      email: '',\n      image: '',\n      trips: []\n    },\n    errors: {}\n  }\n\n  handleChange = e => {\n    const data = { ...this.state.data, [e.target.name]: e.target.value }\n    const errors = { ...this.state.errors, [e.target.name]: '' }\n    this.setState({ data, errors })\n  }\n\n  handleSubmit = async e => {\n    e.preventDefault()\n    const userId = this.state.data.id\n    try {\n      await axios.put(`/api/${userId}/`, this.state.data, {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      this.props.history.push('/profile')\n    } catch (err) {\n      this.setState({ errors: err.response.data })\n    }\n  }\n\n  async componentDidMount() {\n    try {\n      const { data } = await axios.get('/api/profile', {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      this.setState({ data })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"hero profile-hero\">\n        <div className=\"profile-wrapper\">\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"profile-container\">\n              <div className=\"image-container\">\n                <ImageUpload\n                  handleChange={this.handleChange}\n                  fieldName=\"image\"\n                  displayImgUp={true}\n                  preset=\"afar9d6z\"\n                  inputClassName=\"profile-image\"\n                />\n              </div>\n              <div className=\"field-name\">\n                <div className=\"control\">\n                  <input\n                    className={this.state.errors.username ? 'input is-danger' : 'input'}\n                    onChange={this.handleChange}\n                    placeholder=\"Username\"\n                    name=\"username\"\n                    value={this.state.data.username || ''}\n                  />\n                </div>\n                {this.state.errors.username && <small className=\"help is-danger\">{this.state.errors.username}</small>}\n              </div>\n              <div className=\"field-email\">\n                <div className=\"control\">\n                  <input\n                    className={this.state.errors.email ? 'input is-danger' : 'input'}\n                    onChange={this.handleChange}\n                    placeholder=\"Email\"\n                    name=\"email\"\n                    value={this.state.data.email || ''} />\n                </div>\n              </div>\n              {this.state.errors.email && <small className=\"help is-danger\">{this.state.errors.email}</small>}\n            </div>\n            <div className=\"profile-buttons\">\n              <button className=\"button edit\">Save changes</button>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default ProfileEdit","import React from 'react'\nimport axios from 'axios'\nimport Auth from '../../lib/auth'\nimport { Link } from 'react-router-dom'\n\nclass Profile extends React.Component {\n  state = {\n    user: {}\n  }\n\n  async getData() {\n    try {\n      const res = await axios.get('/api/profile', {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      this.setState({ user: res.data })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  handleDelete = async id => {\n    try {\n      await axios.delete(`/api/${id}`, {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      Auth.logout()\n      this.props.history.push('/')\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  componentDidMount() {\n    this.getData()\n  }\n\n  render() {\n    const { username, email, image, id } = this.state.user\n    return (\n      <div className=\"hero profile-hero\">\n        <div className=\"profile-wrapper\">\n          <div className=\"profile-container\">\n            <img className=\"profile-image\" src={image} alt=\"profile\" />\n            <h2>{username}</h2>\n            <p>{email}</p>\n          </div>\n          <div className=\"profile-buttons\">\n            <Link to={'/profile/edit'} className=\"button edit\">\n              Edit Profile\n        </Link>\n            <button className=\"button delete-account\" onClick={() => this.handleDelete(id)}>Delete account</button>\n          </div>\n        </div>\n      </div >\n    )\n  }\n}\n\nexport default Profile","import React from 'react'\nimport axios from 'axios'\nimport Auth from '../../lib/auth'\nimport { notify } from 'react-notify-toast'\n\nclass MyNotifications extends React.Component {\n  state = {\n    tripData: {\n      trips: [],\n      trip_shares: [],\n      trip_offers: []\n    },\n    offerData: {\n      trips: [],\n      trip_requests: []\n    },\n    trip_offers: {\n      trip_offers: []\n    },\n    errors: {}\n  }\n\n  getTripData = async () => {\n    const userId = Auth.getUser()\n    try {\n      const { data } = await axios.get(`/api/${userId}`, {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      const filteredIds = data.trips.map(trip => {\n        return trip.id\n      })\n      this.setState({ tripData: { trips: [...filteredIds], trip_shares: data.trip_shares, trip_offers: data.trip_offers }, trip_offers: { trip_offers: data.trip_offers } })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  formatDate(date) {\n    var monthNames = [\n      \"January\", \"February\", \"March\",\n      \"April\", \"May\", \"June\", \"July\",\n      \"August\", \"September\", \"October\",\n      \"November\", \"December\"\n    ]\n    var day = date.getDate()\n    var monthIndex = date.getMonth()\n    var year = date.getFullYear()\n    return day + ' ' + monthNames[monthIndex] + ' ' + year\n  }\n\n  componentDidMount() {\n    this.getTripData()\n  }\n\n  joinTrip = (tripId) => {\n    const newTripShares = this.state.tripData.trip_shares.filter(trip_share => {\n      return trip_share.id !== tripId\n    })\n    const filteredIds = newTripShares.map(trip => {\n      return trip.id\n    })\n    this.setState({ tripData: { trips: [...this.state.tripData.trips, tripId], trip_shares: filteredIds } }, () => {\n      this.assignTrip()\n    })\n  }\n\n  getRequestData = async tripId => {\n    const requestee = localStorage.getItem('requestee')\n    try {\n      const { data } = await axios.get(`/api/${requestee}`, {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      const filteredTripIds = data.trips.map(trip => {\n        return trip.id\n      })\n      const filteredRequestIds = data.trip_requests.map(trip_request => {\n        return trip_request.id\n      })\n      const removedCurrentRequest = filteredRequestIds.filter(tripRequestId => {\n        return tripRequestId !== tripId\n      })\n      this.setState({ offerData: { trips: [...filteredTripIds, tripId], trip_requests: [...removedCurrentRequest] } }, () => {\n        this.acceptOffer(tripId)\n      })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  acceptOffer = async tripId => {\n    const requestee = localStorage.getItem('requestee')\n    try {\n      await axios.put(`/api/${requestee}/`, this.state.offerData, {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      this.deleteOffer(tripId)\n    } catch (err) {\n      this.setState({ errors: err.response.data })\n    }\n  }\n\n  deleteOffer = tripId => {\n    const filteredIds = this.state.trip_offers.trip_offers.map(trip_offer => {\n      return trip_offer.id\n    })\n    const removedCurrentOffer = filteredIds.filter(tripOfferId => {\n      return tripOfferId !== tripId\n    })\n    this.setState({ trip_offers: { trip_offers: removedCurrentOffer } }, () => {\n      this.completeDelete()\n    })\n  }\n\n  completeDelete = async () => {\n    const ownerId = Auth.getUser()\n    try {\n      await axios.put(`/api/${ownerId}/`, this.state.trip_offers, {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      notify.show('Request accepted!', 'success', 3000)\n      this.getTripData()\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  assignTrip = async () => {\n    const userId = Auth.getUser()\n    try {\n      await axios.put(`/api/${userId}/`, this.state.tripData, {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      notify.show('You have been added to the trip!', 'success', 3000)\n      this.props.history.push('/mytrips')\n    } catch (err) {\n      this.setState({ errors: err.response.data })\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"hero profile-hero\">\n        <div className=\"note-wrapper\">\n          <div className=\"note-container\">\n            <h2>Notifications</h2>\n            {this.state.tripData.trip_shares.length < 1 && this.state.trip_offers.trip_offers.length < 1\n              ?\n              <h3>You have no notifications</h3>\n              :\n              <div className=\"wrapper\">\n                {this.state.tripData.trip_shares.length > 0 &&\n                  this.state.tripData.trip_shares.map((trip_share, i) => (\n                    <div className=\"note-wrap\" key={i}>\n                      {/* {trip_share.photos[0] ? <img src={trip_share.photos[0].image} alt=\"\" /> : <img src=\"https://cdn4.iconfinder.com/data/icons/documents-letters-and-stationery/400/doc-14-512.png\" alt=\"placeholder\" />} */}\n                      <p>You have been invited to join a trip to {trip_share.destination} on {this.formatDate(new Date(trip_share.start_date))}</p>\n                      <button onClick={() => this.joinTrip(trip_share.id)}>Join</button>\n                    </div>\n                  ))}\n                {this.state.tripData.trip_offers.trip_offers.length > 0 &&\n                  this.state.tripData.trip_offers.trip_offers.map((trip_offer, i) => (\n                    <div className=\"note-wrap\" key={i}>\n                      {/* {trip_share.photos[0] ? <img src={trip_share.photos[0].image} alt=\"\" /> : <img src=\"https://cdn4.iconfinder.com/data/icons/documents-letters-and-stationery/400/doc-14-512.png\" alt=\"placeholder\" />} */}\n                      <p>... has requested to join your trip to {trip_offer.destination} on {this.formatDate(new Date(trip_offer.start_date))}</p>\n                      <button onClick={() => this.getRequestData(trip_offer.id)}>Accept</button>\n                    </div>\n                  ))}\n                  </div>}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default MyNotifications","import React from 'react'\nimport axios from 'axios'\nimport ReactMapGL, { NavigationControl } from 'react-map-gl'\nimport 'mapbox-gl/dist/mapbox-gl.css'\nimport Geocoder from 'react-map-gl-geocoder'\n// import { Link } from 'react-router-dom'\n\nconst token = process.env.REACT_APP_MAPBOX\n\nclass TripMap extends React.Component {\n  state = {\n    viewport: {\n      longitude: 0,\n      latitude: 0,\n      zoom: 0\n    }\n  }\n\n  myMap = React.createRef()\n\n  async componentDidMount() {\n    const destination = this.props.destination\n    try {\n      const res = await axios.get(`https://api.mapbox.com/geocoding/v5/mapbox.places/${destination}.json?access_token=${token}`)\n      this.setState({ viewport: { longitude: res.data.features[0].center[0], latitude: res.data.features[0].center[1], zoom: 10 } })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  render() {\n    return (\n      <>\n        <ReactMapGL\n          ref={this.myMap}\n          {...this.state.viewport}\n          height={'30vh'}\n          width={'20vw'}\n          mapStyle='mapbox://styles/mapbox/streets-v9'\n          onViewportChange={viewport => this.setState({ viewport })}\n          mapboxApiAccessToken={token}\n        >\n          <NavigationControl />\n          {/* <Marker\n            {...this.state.viewport}\n          >\n            <img className=\"marker\" src=\"https://cdn0.iconfinder.com/data/icons/small-n-flat/24/678111-map-marker-512.png\" alt=\"marker\" />\n          </Marker> */}\n        </ReactMapGL>\n        <Geocoder\n          mapRef={this.myMap}\n          mapboxApiAccessToken={token}\n          onViewportChange={viewport => this.setState({ viewport })}\n          // position=\"bottom-right\"\n        />\n      </>\n    )\n  }\n}\n\nexport default TripMap","import React from 'react'\nimport axios from 'axios'\n\nconst key = process.env.REACT_APP_WEATHER\n\nclass TripWeather extends React.Component {\n  state = {\n    main: '',\n    description: '',\n    icon: '',\n    temp: 0\n  }\n\n  async componentDidMount() {\n    const destination = this.props.destination\n    try {\n      const { data } = await axios.get(`http://api.openweathermap.org/data/2.5/weather?q=${destination}&appid=${key}`)\n      this.setState({ main: data.weather[0].main, description: data.weather[0].description, icon: data.weather[0].icon, temp: data.main.temp })\n      this.calculateTemp()\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  calculateTemp = () => {\n    const temp = Math.round(this.state.temp - 273.15)\n    return temp\n  }\n\n  render() {\n    const { main, description, icon } = this.state\n    return (\n      <div className=\"weather\">\n        {/* <h3>Current weather</h3> */}\n        <div className=\"main\">\n          <img src={`http://openweathermap.org/img/wn/${icon}@2x.png`} alt=\"weather\" />\n          <p>{this.calculateTemp()}℃</p>\n        </div>\n        <p>{main} - {description}</p>\n      </div>\n    )\n  }\n}\n\nexport default TripWeather","import React from 'react'\nimport axios from 'axios'\nimport ImageUpload from '../ImageUpload'\nimport MicrolinkCard from '@microlink/react'\nimport { notify } from 'react-notify-toast'\n\nimport Auth from '../../lib/auth'\nimport TripMap from '../trips/TripMap'\nimport TripWeather from '../trips/TripWeather'\n\nclass MyTripShow extends React.Component {\n  state = {\n    trip: {},\n    photos: [],\n    image: { image: '' },\n    displayImgUp: false,\n    attractions: [],\n    link: { link: '' },\n    to_dos: [],\n    to_do: { to_do: '' },\n    data: { open_trip: false },\n    errors: {},\n    shareData: { trip_shares: [] },\n    shareUser: {},\n    message: 'Share successful!',\n    dateEdit: true,\n    editData: {}\n  }\n\n  async getData() {\n    const tripId = this.props.match.params.id\n    try {\n      const res = await axios.get(`/api/trips/${tripId}`, {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      this.setState({\n        trip: res.data,\n        photos: res.data.photos,\n        attractions: res.data.attractions,\n        to_dos: res.data.to_dos,\n        data: { open_trip: res.data.open_trip }\n      })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  componentDidMount() {\n    this.getData()\n  }\n\n  handleChange = e => {\n    const data = { ...this.state.data, [e.target.name]: e.target.value }\n    const errors = { ...this.state.errors, [e.target.name]: '' }\n    this.setState({ data, errors })\n  }\n\n  handleToDo = e => {\n    const to_do = { [e.target.name]: e.target.value }\n    this.setState({ to_do })\n  }\n\n  createToDo = async e => {\n    e.preventDefault()\n    const tripId = this.props.match.params.id\n    try {\n      await axios.post(`/api/trips/${tripId}/to_dos/`, this.state.to_do, {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      this.setState({ to_do: { to_do: '' } })\n      this.getData()\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  handleDeleteToDo = async task => {\n    const tripId = this.props.match.params.id\n    try {\n      await axios.delete(`/api/trips/${tripId}/to_dos/${task.id}`, {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      this.getData()\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  handleAttraction = e => {\n    const link = { [e.target.name]: e.target.value }\n    this.setState({ link })\n  }\n\n  createAttraction = async e => {\n    e.preventDefault()\n    const tripId = this.props.match.params.id\n    try {\n      await axios.post(`/api/trips/${tripId}/attractions/`, this.state.link, {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      this.setState({ link: { link: '' } })\n      this.getData()\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  handleDeleteAttraction = async attraction => {\n    const tripId = this.props.match.params.id\n    try {\n      await axios.delete(`/api/trips/${tripId}/attractions/${attraction.id}`, {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      this.getData()\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  handlePhoto = e => {\n    const image = { [e.target.name]: e.target.value }\n    this.setState({ image, displayImgUp: !this.state.displayImgUp })\n  }\n\n  createPhoto = async e => {\n    e.preventDefault()\n    const tripId = this.props.match.params.id\n    try {\n      await axios.post(`/api/trips/${tripId}/photos/`, this.state.image, {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      this.setState({ image: { image: '' }, displayImgUp: !this.state.displayImgUp })\n      this.getData()\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  handleDeletePhoto = async photo => {\n    const tripId = this.props.match.params.id\n    try {\n      await axios.delete(`/api/trips/${tripId}/photos/${photo.id}`, {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      this.getData()\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  formatDate(date) {\n    var monthNames = [\n      \"January\", \"February\", \"March\",\n      \"April\", \"May\", \"June\", \"July\",\n      \"August\", \"September\", \"October\",\n      \"November\", \"December\"\n    ];\n\n    var day = date.getDate();\n    var monthIndex = date.getMonth();\n    var year = date.getFullYear();\n\n    return day + ' ' + monthNames[monthIndex] + ' ' + year;\n  }\n\n  toggleStatus = (e) => {\n    e.preventDefault()\n    this.setState({ data: { open_trip: !this.state.data.open_trip } }, () => {\n      this.editTrip()\n    })\n  }\n\n  editTrip = async () => {\n    const tripId = this.props.match.params.id\n    try {\n      await axios.put(`/api/trips/${tripId}/`, this.state.data, {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      }, () => {\n        this.getData()\n      })\n    } catch (err) {\n      this.setState({ errors: err.response.data })\n    }\n  }\n\n  handleChangeShare = e => {\n    const shareUser = { ...this.state.shareUser, [e.target.name]: e.target.value }\n    const errors = { ...this.state.errors, [e.target.name]: '' }\n    this.setState({ shareUser, errors })\n  }\n\n  shareTrip = async e => {\n    e.preventDefault()\n    try {\n      const res = await axios.get('/api/roamers', {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      const shareWith = res.data.filter(user => {\n        return user.email === this.state.shareUser.email\n      })\n      const userId = shareWith[0].id\n      this.getUserShares(userId)\n    } catch (err) {\n      console.log(err)\n      // this.setState({ errors: err.response.data })\n    }\n  }\n\n  getUserShares = async userId => {\n    try {\n      const { data } = await axios.get(`/api/${userId}/`, {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      const filteredIds = data.trip_shares.map(trip_share => {\n        return trip_share.id\n      })\n      this.setState({ shareData: { trip_shares: [...filteredIds] } }, () => {\n        this.addTripShare(userId)\n      })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  addTripShare = async userId => {\n    const tripId = parseInt(this.props.match.params.id)\n    this.setState({ shareData: { trip_shares: [...this.state.shareData.trip_shares, tripId] } }, () => {\n      this.completeShare(userId)\n    })\n  }\n\n  completeShare = async userId => {\n    try {\n      await axios.put(`/api/${userId}/`, this.state.shareData, {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      this.setState({ shareUser: { email: '' } })\n      notify.show(this.state.message, 'success', 3000)\n    } catch (err) {\n      console.log(err)\n      // this.setState({ errors: err.response.data })\n    }\n  }\n\n  toggleEdit = () => {\n    this.setState({ dateEdit: false })\n  }\n\n  handleChangeEdit = e => {\n    const editData = { ...this.state.editData, [e.target.name]: e.target.value }\n    const errors = { ...this.state.errors, [e.target.name]: '' }\n    this.setState({ editData, errors })\n  }\n\n  editDates = async () => {\n    const tripId = this.props.match.params.id\n    try {\n      await axios.put(`/api/trips/${tripId}/`, this.state.editData, {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      this.getData()\n    } catch (err) {\n      this.setState({ errors: err.response.data })\n    }\n  }\n\n\n  render() {\n    const { destination, start_date, end_date } = this.state.trip\n    const { photos, attractions, to_dos, dateEdit } = this.state\n    return (\n      <div className=\"hero show-hero\">\n        <div className=\"show-container\">\n          <div className=\"button-wrapper\">\n            <form className=\"share-form\" onSubmit={this.shareTrip}>\n              <input\n                onChange={this.handleChangeShare}\n                placeholder=\"Enter email to share trip\"\n                name=\"email\"\n                value={this.state.shareUser.email || ''}\n              />\n              <button></button>\n            </form>\n            {this.state.data.open_trip ?\n              <div className=\"open-wrapper\">\n                <button onClick={this.toggleStatus} className=\"button-close\">\n                  <img src=\"https://res.cloudinary.com/dqrkw1z1a/image/upload/v1583322182/ROAM/output-onlinepngtools_10_copy_qawmqh.png\" alt=\"open\" />\n                  <p>Public</p>\n                </button>\n              </div>\n              :\n              <div className=\"open-wrapper\">\n                <button onClick={this.toggleStatus} className=\"button-open\">\n                  <img src=\"https://res.cloudinary.com/dqrkw1z1a/image/upload/v1583322182/ROAM/output-onlinepngtools_10_qljuqe.png\" alt=\"open\" />\n                  <p>Private</p>\n                </button>\n              </div>\n            }\n          </div>\n          <div className=\"title-wrapper\">\n            <h2>{destination}</h2>\n          </div>\n          {dateEdit ?\n            <div className=\"show-edit-dates\">\n              <h3>{this.formatDate(new Date(start_date))} - {this.formatDate(new Date(end_date))}</h3>\n              <button className=\"date-button\" onClick={this.toggleEdit}>✎</button>\n            </div>\n            :\n            <div className=\"edit-date-container\">\n              <form onSubmit={this.editDates} className=\"edit-dates\">\n                <div className=\"field\">\n                  <div className=\"control\">\n                    <input className=\"input\" onChange={this.handleChangeEdit} placeholder=\"From\" name=\"start_date\" type=\"date\"></input>\n                  </div>\n                </div>\n                <div className=\"field\">\n                  <div className=\"control\">\n                    <input\n                      className={this.state.errors.message ? 'input is-danger' : 'input'}\n                      onChange={this.handleChangeEdit}\n                      placeholder=\"To\"\n                      name=\"end_date\"\n                      type=\"date\" />\n                  </div>\n                  {this.state.errors.message && <small className=\"help is-danger\">{this.state.errors.message}</small>}\n                </div>\n                <button className=\"button\">Save changes</button>\n              </form>\n            </div>\n          }\n          <div className=\"columns is-mobile is-multiline\">\n            <div className=\"column is-one-half-desktop is-fullwidth-mobile\">\n              <div className=\"show-photos\">\n                {photos.map(photo => (\n                  <div className=\"photo-wrapper\" key={photo.id}>\n                    <img className=\"board-photo\" src={photo.image} alt=\"\" />\n                    <button className=\"photo-button\" onClick={() => this.handleDeletePhoto(photo)}>✗</button>\n                  </div>\n                ))}\n                <form onSubmit={this.createPhoto}>\n                  <div className=\"photo-wrapper\">\n                    <div className=\"image-container\">\n                      <ImageUpload\n                        handleChange={this.handlePhoto}\n                        fieldName=\"image\"\n                        displayImgUp={this.state.displayImgUp}\n                        preset=\"j4ev6wv3\"\n                        inputClassName=\"profile-image\"\n                      />\n                    </div>\n                  </div>\n\n                </form>\n              </div>\n              <div className=\"my-todos\">\n                <ul>\n                  <p className=\"todo-header\">To do...</p>\n                  {to_dos.map(task => (\n                    <div className=\"task-container\" key={task.id}>\n                      <li>{task.to_do}</li>\n                      <button className=\"task-button\" onClick={() => this.handleDeleteToDo(task)}>✘</button>\n                    </div>\n                  ))}\n                </ul>\n                <form className=\"task-form\" onSubmit={this.createToDo}>\n                  <input\n                    className=\"input\"\n                    onChange={this.handleToDo}\n                    placeholder=\"New task\"\n                    name=\"to_do\"\n                    value={this.state.to_do.to_do}\n                  />\n                  <button className=\"button\">Add task</button>\n                </form>\n              </div>\n            </div>\n            <div className=\"column is-one-half-desktop is-fullwidth-mobile\">\n              <div className=\"show-links\">\n                {attractions.map(attraction => (\n                  <div className=\"link-wrapper\" key={attraction.id}>\n                    <MicrolinkCard className=\"microlink\" url={attraction.link} />\n                    <button className=\"photo-button\" onClick={() => this.handleDeleteAttraction(attraction)}>✘</button>\n                  </div>\n                ))}\n                <form className=\"link-form\" onSubmit={this.createAttraction}>\n                  <input className=\"input\" onChange={this.handleAttraction} placeholder=\"Add your link here\" name=\"link\" value={this.state.link.link}></input>\n                  <button className=\"button\">✔︎</button>\n                </form>\n              </div>\n              {destination &&\n                <div className=\"extras\">\n                  <TripMap\n                    destination={destination}\n                  />\n                  <TripWeather\n                    destination={destination}\n                  />\n                </div>\n              }\n            </div>\n          </div>\n\n        </div>\n      </div >\n    )\n  }\n}\n\nexport default MyTripShow","import React from 'react'\nimport axios from 'axios'\nimport Auth from '../../lib/auth'\nimport { Link } from 'react-router-dom'\n// import { headers } from '../../lib/headers'\n\nclass MyTripIndex extends React.Component {\n  state = {\n    upcoming_trips: [],\n    past_trips: []\n  }\n\n  async getData() {\n    const upcoming_trips = []\n    const past_trips = []\n    const today = new Date()\n    try {\n      const res = await axios.get('/api/trips', {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      const ownedTrips = res.data.filter(trip => {\n        return trip.owner.id === Auth.getUser()\n      })\n      const attendingTrips = res.data.filter(trip => {\n        const attending = trip.attendees.filter(attendee => {\n          return attendee.id === Auth.getUser()\n        })\n        return attending.length > 0\n      })\n      const myTrips = [...ownedTrips, ...attendingTrips]\n      myTrips.filter(trip => {\n        if (new Date(trip.end_date) < today) {\n          past_trips.push(trip)\n        } else {\n          upcoming_trips.push(trip)\n        }\n      })\n      this.setState({ upcoming_trips, past_trips })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  handleDelete = async trip => {\n    try {\n      await axios.delete(`/api/trips/${trip.id}`, {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      this.getData()\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  componentDidMount() {\n    this.getData()\n  }\n\n  formatDate(date) {\n    var monthNames = [\n      \"January\", \"February\", \"March\",\n      \"April\", \"May\", \"June\", \"July\",\n      \"August\", \"September\", \"October\",\n      \"November\", \"December\"\n    ]\n    var day = date.getDate()\n    var monthIndex = date.getMonth()\n    var year = date.getFullYear()\n    return day + ' ' + monthNames[monthIndex] + ' ' + year\n  }\n\n  render() {\n    const { upcoming_trips, past_trips } = this.state\n    return (\n      <div className=\"hero index-hero\">\n        <div className=\"index-container\">\n          <div className=\"add-button-container\">\n            <Link to=\"/trips/new\">\n              <button className=\"add-button\"></button>\n            </Link>\n          </div>\n          <div>\n            <h2 className=\"trip-header\">Upcoming Trips</h2>\n            <div className=\"boxes\">\n              {upcoming_trips.map(trip => (\n                <div className=\"box\" key={trip.id}>\n                  <Link to={`/mytrips/${trip.id}`}>\n                    <div className=\"media\">\n                      {trip.photos[0] ? <img src={trip.photos[0].image} alt=\"\" /> : <img src=\"https://cdn4.iconfinder.com/data/icons/documents-letters-and-stationery/400/doc-14-512.png\" alt=\"placeholder\" />}\n                      <div className=\"info\">\n                        <h2 className=\"dest-header\">{trip.destination}</h2>\n                        <h4>{this.formatDate(new Date(trip.start_date))} - {this.formatDate(new Date(trip.end_date))}</h4>\n                      </div>\n                    </div>\n                  </Link>\n                  <button className=\"delete-button button\" onClick={() => this.handleDelete(trip)}>Delete trip</button>\n                </div>\n              ))}\n            </div>\n          </div>\n          <div>\n            <h2 className=\"trip-header\">Past Trips</h2>\n            <div className=\"boxes\">\n              {past_trips.map(trip => (\n                <div className=\"box\" key={trip.id}>\n                  <Link to={`/mytrips/${trip.id}`}>\n                    <div className=\"media\">\n                      {trip.photos[0] ? <img src={trip.photos[0].image} alt=\"\" /> : <img src=\"https://cdn4.iconfinder.com/data/icons/documents-letters-and-stationery/400/doc-14-512.png\" alt=\"placeholder\" />}\n                      <div className=\"info\">\n                        <h2 className=\"dest-header\">{trip.destination}</h2>\n                        <h4>{this.formatDate(new Date(trip.start_date))} - {this.formatDate(new Date(trip.end_date))}</h4>\n                      </div>\n                    </div>\n                  </Link>\n                  <button className=\"delete-button button\" onClick={() => this.handleDelete(trip)}>Delete trip</button>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default MyTripIndex","import React from 'react'\nimport axios from 'axios'\nimport Auth from '../../lib/auth'\n\nclass TripNew extends React.Component {\n  state = {\n    data: {\n      destination: '',\n      start_date: '',\n      end_date: ''\n    },\n    errors: {}\n  }\n\n  handleChange = e => {\n    const data = { ...this.state.data, [e.target.name]: e.target.value }\n    const errors = { ...this.state.errors, [e.target.name]: '' }\n    this.setState({ data, errors })\n  }\n\n  handleSubmit = async e => {\n    e.preventDefault()\n    try {\n      const res = await axios.post('/api/trips/', this.state.data, {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      this.props.history.push(`/mytrips/${res.data.id}`)\n    } catch (err) {\n      this.setState({ errors: err.response.data })\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"hero add-hero\">\n        <div className=\"add-wrapper\">\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"add-container\">\n              <h2 className=\"title\">Create a Trip</h2>\n              <div className=\"field-dest\">\n              <label className=\"label\">Destination</label>\n                <div className=\"control\">\n                  <input className=\"input\"\n                    onChange={this.handleChange}\n                    placeholder=\"Where are you going?\"\n                    name=\"destination\"\n                  />\n                </div>\n              </div>\n              <div className=\"field-date\">\n                <div className=\"control\">\n                <label className=\"label\">From</label>\n                  <input className=\"input\"\n                    onChange={this.handleChange}\n                    name=\"start_date\"\n                    type=\"date\"\n                  />\n                </div>\n                <div className=\"control\">\n                <label className=\"label\">To</label>\n                  <input\n                    className={this.state.errors.message ? 'input is-danger' : 'input'}\n                    onChange={this.handleChange}\n                    name=\"end_date\"\n                    type=\"date\"\n                  />\n                </div>\n              </div>\n              {this.state.errors.message && <small className=\"help is-danger\">{this.state.errors.message}</small>}\n            </div>\n            <div className=\"add-buttons\">\n              <button className=\"button edit\">Create</button>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default TripNew","import React from 'react'\nimport axios from 'axios'\nimport Auth from '../../lib/auth'\nimport { Link } from 'react-router-dom'\n// import { headers } from '../../lib/headers'\n\nclass OpenTripIndex extends React.Component {\n  state = {\n    upcoming_trips: [],\n    past_trips: []\n  }\n\n  async getData() {\n    const upcoming_trips = []\n    const past_trips = []\n    const today = new Date()\n    try {\n      const res = await axios.get('/api/trips', {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      const openTrips = res.data.filter(trip => {\n        if (trip.open_trip && trip.owner.id !== Auth.getUser()) {\n          return trip\n        }\n      })\n      const tripsNotAttending = openTrips.filter(trip => {\n        let singleTrip = ''\n        const attending = trip.attendees.filter(attendee => {\n          if (attendee.id === Auth.getUser()) {\n            singleTrip = 'attending'\n          }\n        })\n        if (singleTrip !== 'attending') {\n          return trip\n        }\n      })\n      tripsNotAttending.filter(trip => {\n        if (new Date(trip.end_date) < today) {\n          past_trips.push(trip)\n        } else {\n          upcoming_trips.push(trip)\n        }\n      })\n      this.setState({ upcoming_trips, past_trips })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  componentDidMount() {\n    this.getData()\n  }\n\n  formatDate(date) {\n    var monthNames = [\n      \"January\", \"February\", \"March\",\n      \"April\", \"May\", \"June\", \"July\",\n      \"August\", \"September\", \"October\",\n      \"November\", \"December\"\n    ]\n\n    var day = date.getDate()\n    var monthIndex = date.getMonth()\n    var year = date.getFullYear()\n\n    return day + ' ' + monthNames[monthIndex] + ' ' + year\n  }\n\n  render() {\n    const { upcoming_trips, past_trips } = this.state\n    return (\n      <div className=\"hero index-hero\">\n        <div className=\"index-container\">\n          <div>\n            <h2 className=\"trip-header index-h1\">Upcoming Trips</h2>\n            <div className=\"boxes\">\n              {upcoming_trips.map(trip => (\n                <div className=\"box\" key={trip.id}>\n                  <Link to={`/trips/${trip.id}`}>\n                    <div className=\"media\">\n                      {trip.photos[0] ? <img src={trip.photos[0].image} alt=\"\" /> : <img src=\"https://cdn4.iconfinder.com/data/icons/documents-letters-and-stationery/400/doc-14-512.png\" alt=\"placeholder\" />}\n                      <div className=\"info\">\n                        <h2 className=\"dest-header\">{trip.destination}</h2>\n                        <h4>{this.formatDate(new Date(trip.start_date))} - {this.formatDate(new Date(trip.end_date))}</h4>\n                      </div>\n                    </div>\n                  </Link>\n                </div>\n              ))}\n            </div>\n          </div>\n          <div>\n            <h2 className=\"trip-header\">Past Trips</h2>\n            <div className=\"boxes\">\n              {past_trips.map(trip => (\n                <div className=\"box\" key={trip.id}>\n                  <Link to={`/trips/${trip.id}`}>\n                    <div className=\"media\">\n                      {trip.photos[0] ? <img src={trip.photos[0].image} alt=\"\" /> : <img src=\"https://cdn4.iconfinder.com/data/icons/documents-letters-and-stationery/400/doc-14-512.png\" alt=\"placeholder\" />}\n                      <div className=\"info\">\n                        <h2 className=\"dest-header\">{trip.destination}</h2>\n                        <h4>{this.formatDate(new Date(trip.start_date))} - {this.formatDate(new Date(trip.end_date))}</h4>\n                      </div>\n                    </div>\n                  </Link>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default OpenTripIndex","import React from 'react'\nimport axios from 'axios'\nimport MicrolinkCard from '@microlink/react'\nimport Auth from '../../lib/auth'\nimport { notify } from 'react-notify-toast'\nimport TripMap from '../trips/TripMap'\nimport TripWeather from '../trips/TripWeather'\n\nclass OpenTripShow extends React.Component {\n  state = {\n    trip: {},\n    photos: [],\n    image: { image: '' },\n    displayImgUp: false,\n    attractions: [],\n    link: { link: '' },\n    to_dos: [],\n    to_do: { to_do: '' },\n    data: { open_trip: false },\n    errors: {},\n    // tripData: { attendees: [] },\n    currentUser: {\n      id: null,\n      username: '',\n      image: ''\n    },\n    tripData: { trips: [] },\n    requestData: { trip_requests: [] },\n    offerData: { trip_offers: [] }\n    // trips: [],\n    // joinTrip: { id: null, destination: '' }\n\n  }\n\n  async getData() {\n    const tripId = this.props.match.params.id\n    try {\n      const res = await axios.get(`/api/trips/${tripId}`, {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      this.setState({\n        trip: res.data,\n        photos: res.data.photos,\n        attractions: res.data.attractions,\n        to_dos: res.data.to_dos,\n        // joinTrip: { id: res.data.id, destination: res.data.destination },\n        data: { open_trip: res.data.open_trip }\n      })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  // async getUserTrips() {\n  //   try {\n  //     const { data } = await axios.get('/api/profile', {\n  //       headers: { Authorization: `Bearer ${Auth.getToken()}` }\n  //     })\n  //     this.setState({ tripData: { trips: data.trips} })\n  //   } catch (err) {\n  //     console.log(err)\n  //   }\n  // }\n\n  componentDidMount() {\n    this.getData()\n    this.getUserRequests()\n  }\n\n  formatDate(date) {\n    var monthNames = [\n      \"January\", \"February\", \"March\",\n      \"April\", \"May\", \"June\", \"July\",\n      \"August\", \"September\", \"October\",\n      \"November\", \"December\"\n    ];\n\n    var day = date.getDate();\n    var monthIndex = date.getMonth();\n    var year = date.getFullYear();\n\n    return day + ' ' + monthNames[monthIndex] + ' ' + year;\n  }\n\n  //  joinTrip = () => {\n  //   const tripId = parseInt(this.props.match.params.id)\n  //   this.setState({ tripData: { trips: [ ...this.state.tripData.trips, tripId ] } }, () => {\n  //     this.assignTrip()\n  //   })\n  // }\n\n  // assignTrip = async() => {\n  //   const userId = Auth.getUser()\n  //   try {\n  //     await axios.put(`/api/${userId}/`, this.state.tripData, {\n  //       headers: { Authorization: `Bearer ${Auth.getToken()}` }\n  //     })\n  //     this.props.history.push('/mytrips')\n  //   } catch (err) {\n  //     this.setState({ errors: err.response.data })\n  //   }\n  // }\n\n  async getUserRequests() {\n    const userId = Auth.getUser()\n    try {\n      const { data } = await axios.get(`/api/${userId}`, {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      const filteredIds = data.trip_requests.map(trip_request => {\n        return trip_request.id\n      })\n      this.setState({ requestData: { trip_requests: [...filteredIds] } })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  generateRequest = () => {\n    const tripId = parseInt(this.props.match.params.id)\n    this.setState({ requestData: { trip_requests: [...this.state.requestData.trip_requests, tripId] } }, () => {\n      this.sendRequest()\n    })\n  }\n\n  sendRequest = async () => {\n    const userId = Auth.getUser()\n    try {\n      await axios.put(`/api/${userId}/`, this.state.requestData, {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      localStorage.setItem('requestee', userId)\n    } catch (err) {\n      this.setState({ errors: err.response.data })\n    }\n    this.getOwnerOffers()\n  }\n\n  getOwnerOffers = async () => {\n    const ownerId = this.state.trip.owner.id\n    try {\n      const { data } = await axios.get(`/api/${ownerId}`, {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      const filteredIds = data.trip_offers.map(trip_offer => {\n        return trip_offer.id\n      })\n      this.setState({ offerData: { trip_offers: [...filteredIds] } }, () => {\n        this.generateOffer()\n      })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  generateOffer = () => {\n    const tripId = parseInt(this.props.match.params.id)\n    this.setState({ offerData: { trip_offers: [...this.state.offerData.trip_offers, tripId] } }, () => {\n      this.sendOffer()\n    })\n  }\n\n  sendOffer = async () => {\n    const ownerId = this.state.trip.owner.id\n    try {\n      await axios.put(`/api/${ownerId}/`, this.state.offerData, {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      notify.show('Request sent!', 'success', 3000)\n    } catch (err) {\n      this.setState({ errors: err.response.data })\n    }\n  }\n\n  render() {\n    const { destination, start_date, end_date } = this.state.trip\n    const { photos, attractions, to_dos } = this.state\n    return (\n      <div className=\"hero show-hero\">\n        <div className=\"show-container\">\n          <div className=\"button-wrapper\">\n            <button onClick={this.generateRequest} className=\"button-join\"></button>\n          </div>\n          <div className=\"title-wrapper\">\n            <h2>{destination}</h2>\n          </div>\n          <h3>{this.formatDate(new Date(start_date))} - {this.formatDate(new Date(end_date))}</h3>\n          <div className=\"columns is-mobile is-multiline\">\n            <div className=\"column is-one-half-desktop is-fullwidth-mobile\">\n              <div className=\"show-photos\">\n                {photos.map(photo => <img className=\"closed-board-photo\" src={photo.image} key={photo.id} alt=\"\" />)}\n              </div>\n              <div className=\"todos\">\n\n                <ul>\n                  <p className=\"todo-header\">To do...</p>\n                  {to_dos.map(task => <li key={task.id}>{task.to_do}</li>)}\n                </ul>\n              </div>\n            </div>\n            <div className=\"column is-one-half-desktop is-fullwidth-mobile\">\n              <div className=\"show-links-open\">\n                  {attractions.map(attraction => <MicrolinkCard url={attraction.link} key={attraction.id} />)}\n              </div>\n\n              {destination &&\n                <div className=\"extras\">\n                  <TripMap\n                    destination={destination}\n                  />\n                  <TripWeather\n                    destination={destination}\n                  />\n                </div>\n              }\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default OpenTripShow","import React from 'react'\nimport './styles/main.scss'\nimport 'bulma'\nimport { BrowserRouter, Route, Switch } from 'react-router-dom'\nimport Notifications from 'react-notify-toast'\n\nimport Home from './components/common/Home'\nimport Navbar from './components/common/Navbar'\nimport Register from './components/auth/Register'\nimport Login from './components/auth/Login'\nimport ProfileEdit from './components/auth/ProfileEdit'\nimport Profile from './components/auth/Profile'\nimport MyNotifications from './components/auth/MyNotifications'\nimport MyTripShow from './components/trips/MyTripShow'\nimport MyTripIndex from './components/trips/MyTripIndex'\nimport TripNew from './components/trips/TripNew'\nimport OpenTripIndex from './components/trips/OpenTripIndex'\nimport OpenTripShow from './components/trips/OpenTripShow'\n// import MessageApp from './components/messaging/MessageApp'\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <>\n        <Navbar />\n        <Notifications />\n        {/* <MessageApp /> */}\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          <Route path=\"/register\" component={Register} />\n          <Route path=\"/login\" component={Login} />\n          <Route path=\"/profile/edit\" component={ProfileEdit} />\n          <Route path=\"/profile\" component={Profile} />\n          <Route path=\"/notifications\" component={MyNotifications} />\n          <Route path=\"/trips/new\" component={TripNew} />\n          <Route path=\"/trips/:id\" component={OpenTripShow} />\n          <Route path=\"/trips\" component={OpenTripIndex} />\n          <Route path=\"/mytrips/:id\" component={MyTripShow} />\n          <Route path=\"/mytrips\" component={MyTripIndex} />\n        </Switch>\n      </>\n    </BrowserRouter>\n  )\n}\n\nexport default App","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}